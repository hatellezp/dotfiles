# This file has been auto-generated by i3-config-wizard(1).
# It will not be overwritten, so edit it as you like.
#
# Should you change your keyboard layout some time, delete
# this file and re-run i3-config-wizard(1).
#
exec --no-startup-id "setxkbmap fr"
exec --no-startup-id picom -b --config "$HOME/.config/picom/picom.conf"


###########
# Include #
###########

include ~/.config/i3/config.d/modes.conf
include ~/.config/i3/config.d/for_windows.conf
include ~/.config/i3/config.d/windows.conf
include ~/.config/i3/config.d/assign.conf
include ~/.config/i3/config.d/colors.conf
include ~/.config/i3/config.d/workspaces.conf
include ~/.config/i3/config.d/monitors.conf


################
# Set defaults #
################

# Set Modifier
set $mod Mod4
set $mod2 control

# Set locker
set $Locker i3lock -i ~/.config/i3/ressources/i3lock_wallpaper.png --clock --keylayout 0 --layout-color=ff0000ff --time-color=ff0000ff --date-color=ff0000ff  && sleep 1
set $Wallpaper feh --bg-scale $HOME/.config/i3/ressources/melina_wallpaper.jpg


# Set terminal
set $terminal "LIBGL_ALWAYS_SOFTWARE=1 alacritty -e tmux"

# Set Workspaces

set $ws1 ""
set $ws2 ""
set $ws3 ""
set $ws4 ""
set $ws5 ""
set $ws6 "6"
set $ws7 "7"
set $ws8 "8"
set $ws9 "9"
set $ws10 "10"

set $ws0b "0b"
set $ws1b "1b"
set $ws2b "2b"
set $ws3b "3b"
set $ws4b "4b"
set $ws5b "5b"
set $ws6b "6b"
set $ws7b "7b"
set $ws8b "8b"
set $ws9b "9b"
set $ws10b "10b"

############
# Settings #
############

focus_follows_mouse no #disable focuse on moving mouse
font pango:DejaVu Sans Mono 14

# Use Mouse+$mod to drag floating windows to their wanted position
floating_modifier $mod
workspace_auto_back_and_forth no

######################
# Start Applications #
######################

bindsym $mod+Return exec $terminal
bindsym $mod+Shift+s exec flameshot gui

# launcher
bindsym $mod+space exec rofi -show run
bindsym $mod+Shift+w exec rofi -show window

bindsym $mod+b exec blueman-manager
bindsym $mod+w exec nm-connection-editor
bindsym $mod+Shift+v exec --no-startup-id toggle-vpn.sh



#################
# Start Scripts #
#################

bindsym $mod+Escape exec "xrandr --auto"

bindsym $mod+Control+d exec "variety -n"
bindsym $mod+Shift+d exec "variety -f"

# Pulse Audio controls
bindsym XF86AudioRaiseVolume exec --no-startup-id pactl set-sink-volume 0 +5% #increase sound volume
bindsym XF86AudioLowerVolume exec --no-startup-id pactl set-sink-volume 0 -5% #decrease sound volume
bindsym XF86AudioMute exec --no-startup-id pactl set-sink-mute 0 toggle # mute sound

# Sreen brightness controls
set_from_resource $screen echo "$SCREEN"
# Brightness controls
# bindsym XF86MonBrightnessUp exec --no-startup-id brightnessctl set +5%   # increase brightness
# bindsym XF86MonBrightnessDown exec --no-startup-id brightnessctl set 5%- # decrease brightness
bindsym XF86MonBrightnessUp exec --no-startup-id bash -c 'brightnessctl set +5% && pkill -f -SIGUSR1 bumblebee-status'
bindsym XF86MonBrightnessDown exec --no-startup-id bash -c 'brightnessctl set 5%- && pkill -f -SIGUSR1 bumblebee-status'



# Touchpad controls
bindsym XF86TouchpadToggle exec /some/path/toggletouchpad.sh

# Media player controls
bindsym XF86AudioPlay exec playerctl play
bindsym XF86AudioPause exec playerctl pause
bindsym XF86AudioNext exec playerctl next
bindsym XF86AudioPrev exec playerctl previous


##########
# Toggle #
##########

# Toggle between dock mode and hide mode
bindsym $mod+a bar mode toggle
# enter fullscreen mode for the focused container
bindsym $mod+f fullscreen toggle
# toggle tiling / floating
bindsym $mod+Shift+space floating toggle

###################
# Session Actions #
###################

# bindsym $mod+Shift+c reload # reload the configuration file

# restart i3 inplace (preserves your layout/session, can be used to upgrade i3)
bindsym $mod+Shift+r restart
# exit i3 (logs you out of your X session)
bindsym $mod+Shift+e exec "i3-msg exit"
# bindsym $mod+Shift+e exec "i3-nagbar -t warning -m 'You pressed the exit shortcut. Do you really want to exit i3? This will end your X session.' -B 'Yes, exit i3' 'i3-msg exit'"


 #
############
# Graphics #
############

bar {
	font pango:FontAwesome, Fira mono 12
        status_command /usr/bin/bumblebee-status \
	-m nic vpn cpu memory bluetooth2 pasink pasource brightness battery datetime layout \
	-p root.path=/ brightness.use_acpi=true datetime.format="%d/%m/%Y %H:%M:%S" \
	-t moonlight-powerline
}

############
# Start up #
############

# TODO: come back here and do something like this

# exec --no-startup-id exec "$terminal" --name scratchpad
# exec --no-startup-id exec "emacs"
# exec --no-startup-id i3-msg 'workspace $ws1; exec $terminal exec $terminal'
# exec --no-startup-id i3-msg 'workspace $ws2; exec $file_manager'
# exec --no-startup-id i3-msg 'workspace $ws3; exec firefox'

