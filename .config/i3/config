# This file has been auto-generated by i3-config-wizard(1).
# It will not be overwritten, so edit it as you like.
#
# Should you change your keyboard layout some time, delete
# this file and re-run i3-config-wizard(1).
#

# i3 config file (v4)
#
# Please see https://i3wm.org/docs/userguide.html for a complete reference!

###########
# Include #
###########

# include ~/.config/i3/config.d/screens.conf


################
# Set defaults #
################

# Set Modifier
set $mod Mod4
set $mod2 control

# Set locker
set $Locker i3lock -i ~/.config/i3/ressources/i3lock_wallpaper.png --clock --keylayout 0 --layout-color=ff0000ff --time-color=ff0000ff --date-color=ff0000ff  && sleep 1

# Set terminal
set $terminal "terminator"

# Set Workspaces

set $ws1 "1"
set $ws2 "2"
set $ws3 "3"
set $ws4 "4"
set $ws5 "5"
set $ws6 "6"
set $ws7 "7"
set $ws8 "8"
set $ws9 "9"
set $ws10 "10"


# set $ws1 "1:"
# set $ws2 "2:"
# set $ws3 "3:"
# set $ws4 "4:"
# set $ws5 "5:"
# set $ws6 "6"
# set $ws7 "7"
# set $ws8 "8:"
# set $ws9 "9:"
# set $ws10 "10:"

set $ws0b "0b"
set $ws1b "1b"
set $ws2b "2b"
set $ws3b "3b"
set $ws4b "4b"
set $ws5b "5b"
set $ws6b "6b"
set $ws7b "7b"
set $ws8b "8b"
set $ws9b "9b"
set $ws10b "10b"

############
# Settings #
############

focus_follows_mouse no #disable focuse on moving mouse
# font pango:monospace 14
font pango:DejaVu Sans Mono 14

# Use Mouse+$mod to drag floating windows to their wanted position
floating_modifier $mod
workspace_auto_back_and_forth no
######################
# Start Applications #
######################

# start a terminal
# bindsym $mod+Return exec termite
bindsym $mod+Return exec i3-sensible-terminal #execute the terminal describe by $TERMINAL
# bindsym $mod+u exec i3-sensible-terminal #execute the terminal describe by $TERMINAL

bindsym $mod+c exec xfce4-appfinder
# bindsym Print exec --no-startup-id i3-scrot
# bindsym $mod+Print --release exec --no-startup-id i3-scrot -w
bindsym $mod+Shift+s exec flameshot gui

# launcher
bindsym $mod+space exec rofi -show run
# bindsym $mod+d exec rofi -show run -location 0 -width 30 -show "drun" -display-drun " Application Manager:" -modi "drun"
bindsym $mod+w exec rofi -show window


#################
# Start Scripts #
#################

# # Get a password with rofi from pass.
# bindsym $mod+Shift+p exec ~/.local/bin/rofi-pass

# # Get an emoji from emoji picker
bindsym $mod+Shift+u exec ~/MyScripts/rofi-emojis

# # Get an OTP with rofi from YubiKey.
# bindsym $mod+y exec ~/MyScripts/rofi-yubi
bindsym $mod+Shift+f exec ~/MyScripts/rofi-finder
bindsym $mod+Shift+x exec ~/MyScripts/rofi-xrandr
bindsym $mod+Escape exec "xrandr --auto"

# bindsym $mod+Shift+d exec ~/MyScripts/RandomWallpaper.sh
bindsym $mod+Control+d exec "variety -n"
bindsym $mod+Shift+d exec "variety -f"

# Pulse Audio controls
bindsym XF86AudioRaiseVolume exec --no-startup-id pactl set-sink-volume 0 +5% #increase sound volume
bindsym XF86AudioLowerVolume exec --no-startup-id pactl set-sink-volume 0 -5% #decrease sound volume
bindsym XF86AudioMute exec --no-startup-id pactl set-sink-mute 0 toggle # mute sound

# Sreen brightness controls
set_from_resource $screen echo "$SCREEN"
bindsym XF86MonBrightnessUp exec ~/MyScripts/brightness.sh + $screen
bindsym XF86MonBrightnessDown exec  ~/MyScripts/brightness.sh - $screen

# Touchpad controls
bindsym XF86TouchpadToggle exec /some/path/toggletouchpad.sh

# Media player controls
bindsym XF86AudioPlay exec playerctl play
bindsym XF86AudioPause exec playerctl pause
bindsym XF86AudioNext exec playerctl next
bindsym XF86AudioPrev exec playerctl previous


#################
# Windows Focus #
#################

# change focus
bindsym $mod+h focus left
bindsym $mod+j focus down
bindsym $mod+k focus up
bindsym $mod+l focus right

# alternatively, you can use the cursor keys:
bindsym $mod+Left focus left
bindsym $mod+Down focus down
bindsym $mod+Up focus up
bindsym $mod+Right focus right


###################
# Windows Actions #
###################

# move focused window
bindsym $mod+Shift+h move left
bindsym $mod+Shift+j move down
bindsym $mod+Shift+k move up
bindsym $mod+Shift+l move right

# alternatively, you can use the cursor keys:
bindsym $mod+Shift+Left move left
bindsym $mod+Shift+Down move down
bindsym $mod+Shift+Up move up
bindsym $mod+Shift+Right move right

# kill focused window
bindsym $mod+Shift+q kill

# Make the currently focused window a scratchpad
bindsym $mod+Shift+equal move scratchpad
# Show the first scratchpad window
bindsym $mod+equal scratchpad show

# change focus between tiling / floating windows
bindsym $mod+d focus mode_toggle
# focus the parent container
bindsym $mod+Shift+p focus parent
# focus the child container
bindsym $mod+Shift+c focus child

#####################
# Workspace Actions #
#####################

# workspace back and forth (with/without active container)
bindsym $mod+b exec blueman-manager
bindsym $mod+Shift+b workspace back_and_forth
# bindsym $mod+Shift+b move container to workspace back_and_forth; workspace back_and_forth

# Cycle through active workspaces
bindsym $mod+Tab workspace next_on_output
bindsym $mod+Shift+Tab workspace prev_on_output

# TODO: come back here
#move current workspace to second monitor
# bindsym $mod+u move workspace to output left
# bindsym $mod+i move workspace to output right

# split in toggle orientation (h,v)
bindsym $mod+v split toggle

# change container layout (stacked, tabbed, toggle split)
bindsym $mod+s layout stacking
bindsym $mod+z layout tabbed
bindsym $mod+e layout toggle split

# switch to workspace
bindsym $mod+ampersand workspace $ws1
bindsym $mod+eacute workspace $ws2
bindsym $mod+quotedbl workspace $ws3
bindsym $mod+apostrophe workspace $ws4
bindsym $mod+parenleft workspace $ws5
bindsym $mod+minus workspace $ws6
bindsym $mod+egrave workspace $ws7
bindsym $mod+underscore workspace $ws8
bindsym $mod+ccedilla workspace $ws9
bindsym $mod+agrave workspace $ws10

bindsym $mod2+ampersand workspace $ws1b
bindsym $mod2+eacute workspace $ws2b
bindsym $mod2+quotedbl workspace $ws3b
bindsym $mod2+apostrophe workspace $ws4b
bindsym $mod2+parenleft workspace $ws5b
bindsym $mod2+minus workspace $ws6b
bindsym $mod2+egrave workspace $ws7b
bindsym $mod2+underscore workspace $ws8b
bindsym $mod2+ccedilla workspace $ws9b
bindsym $mod2+agrave workspace $ws10b

# move focused container to workspace
bindsym $mod+Shift+ampersand move container to workspace $ws1
bindsym $mod+Shift+eacute move container to workspace $ws2
bindsym $mod+Shift+quotedbl move container to workspace $ws3
bindsym $mod+Shift+apostrophe move container to workspace $ws4
bindsym $mod+Shift+parenleft move container to workspace $ws5
bindsym $mod+Shift+minus move container to workspace $ws6
bindsym $mod+Shift+egrave move container to workspace $ws7
bindsym $mod+Shift+underscore move container to workspace $ws8
bindsym $mod+Shift+ccedilla move container to workspace $ws9
bindsym $mod+Shift+agrave move container to workspace $ws10

bindsym $mod2+Shift+ampersand move container to workspace $ws1b
bindsym $mod2+Shift+eacute move container to workspace $ws2b
bindsym $mod2+Shift+quotedbl move container to workspace $ws3b
bindsym $mod2+Shift+apostrophe move container to workspace $ws4b
bindsym $mod2+Shift+5 move container to workspace $ws5b
bindsym $mod2+Shift+section move container to workspace $ws6b
bindsym $mod2+Shift+egrave move container to workspace $ws7b
bindsym $mod2+Shift+exclam move container to workspace $ws8b
bindsym $mod2+Shift+ccedilla move container to workspace $ws9b
bindsym $mod2+Shift+agrave move container to workspace $ws10b


##########
# Toggle #
##########

# Toggle between dock mode and hide mode
bindsym $mod+a bar mode toggle
# enter fullscreen mode for the focused container
bindsym $mod+f fullscreen toggle
# toggle tiling / floating
bindsym $mod+Shift+space floating toggle

###################
# Session Actions #
###################

# bindsym $mod+Shift+c reload # reload the configuration file

# restart i3 inplace (preserves your layout/session, can be used to upgrade i3)
bindsym $mod+Shift+r restart
# exit i3 (logs you out of your X session)
bindsym $mod+Shift+e exec "i3-msg exit"
# bindsym $mod+Shift+e exec "i3-nagbar -t warning -m 'You pressed the exit shortcut. Do you really want to exit i3? This will end your X session.' -B 'Yes, exit i3' 'i3-msg exit'"


#########
# Modes #
#########

# resize window (you can also use the mouse for that)
mode "resize" {
        # These bindings trigger as soon as you enter the resize mode
        # will shrink the window’s width.
        bindsym h resize shrink width 10 px or 10 ppt
        # will shrink the window’s height.
        bindsym j resize shrink height 10 px or 10 ppt
        # will grow the window’s height.
        bindsym k resize grow height 10 px or 10 ppt
        # will grow the window’s width.
        bindsym l resize grow width 10 px or 10 ppt
        # same bindings, but for the arrow keys
        bindsym Left resize shrink width 10 px or 10 ppt
        bindsym Down resize grow height 10 px or 10 ppt
        bindsym Up resize shrink height 10 px or 10 ppt
        bindsym Right resize grow width 10 px or 10 ppt
        # back to normal: Enter or Escape or $mod+r
        bindsym Return mode "default"
        bindsym Escape mode "default"
        bindsym $mod+r mode "default"
}
bindsym $mod+r mode "resize"

set $mode_system System (l) lock, (e) logout, (s) suspend, (h) hibernate, (r) reboot, (Shift+s) shutdown
mode "$mode_system" {
    bindsym l exec --no-startup-id $Locker, mode "default"
    bindsym e exec --no-startup-id i3-msg exit, mode "default"
    bindsym s exec --no-startup-id $Locker && systemctl suspend, mode "default"
    bindsym h exec --no-startup-id $Locker && systemctl hibernate, mode "default"
    bindsym r exec --no-startup-id systemctl reboot, mode "default"
    bindsym Shift+s exec --no-startup-id systemctl poweroff -i, mode "default"

    # back to normal: Enter or Escape
    bindsym Return mode "default"
    bindsym Escape mode "default"
}
bindsym $mod+n mode "$mode_system"

set $mode_monitor_layout Monitor Layout:  (l) laptop, (w) work, (h) house
mode "$mode_monitor_layout" {
    bindsym l exec --no-startup-id "/home/tellez/.screenlayout.sh laptop", mode "default"
    bindsym w exec --no-startup-id "/home/tellez/.screenlayout.sh work", mode "default"
    bindsym h exec --no-startup-id "/home/tellez/.screenlayout.sh house", mode "default"

    bindsym Escape mode "default"
}
bindsym $mod+m mode "$mode_monitor_layout"


set $mode_launch launch (f)firefox (z)zotero (g)chrome (c)code (o)obsidian (r)RTmaps
mode "$mode_launch" {
    bindsym f exec --no-startup-id "org.mozilla.firefox", mode "default"
    bindsym p exec --no-startup-id "firefox -private", mode "default"
    bindsym z exec --no-startup-id org.zotero.Zotero, mode "default"
    bindsym g exec --no-startup-id "com.google.Chrome --disable-gpu", mode "default"
    bindsym c exec --no-startup-id "code --disable-gpu", mode "default"
    bindsym o exec --no-startup-id "md.obsidian.Obsidian --disable-gpu", mode "default"
    bindsym r exec --no-startup-id rtmaps, mode "default"
    # back to normal: Enter or Escape
    bindsym Return mode "default"
    bindsym Escape mode "default"
}
bindsym $mod+o mode "$mode_launch"

############
# Graphics #
############

bar {
	font pango:FontAwesome, Fira mono 12
        status_command /usr/bin/bumblebee-status \
	-m nic disk cpu battery date time pasink pasource \
	-p root.path=/ time.format="%H:%M CW %V" date.format="%a, %b %d %Y" \
	-t moonlight-powerline
}

##############
# For_Window #
##############

for_window [instance="scratchpad"] move window to scratchpad

# floating windows
for_window [class="kwrite"] floating enable resize set 640 480
for_window [class="Sxiv"] floating enable resize set 640 480
for_window [class="Pavucontrol"] floating enable resize set 640 480
for_window [class="Equalx"] floating enable resize set 640 480
for_window [class="Xfce4-appfinder"] floating enable resize set 640 480
for_window [class="ark"] floating enable #resize set 640 480
for_window [class="File-roller"] floating enable resize set 640 800
for_window [class="konsole"] floating enable resize set 640 480
for_window [class="TestWin"] floating enable #resize set 640 480
for_window [class="Mictray"] floating enable resize set 640 480
for_window [class="Gnome-calculator"] floating enable resize set 640 480
for_window [class="qt5ct"] floating enable resize set 640 480
for_window [class="RTMaps_App"] floating enable resize set 640 480
for_window [title="GL2_3D_Viewer*"] floating enable resize set 640 480
for_window [title="DataViewer_*"] floating enable resize set 640 480
for_window [title="Slider_*"] floating enable resize set 80 480
for_window [title="Led_*"] floating enable resize set 80 80
for_window [class="matplotlib"] floating enable resize set 800 600
for_window [class="Matplotlib"] floating enable resize set 800 600
for_window [class="SimpleScreenRecorder"] floating enable resize set 800 600



# disable floating windows
for_window [class="Wireshark"] floating disable resize set 640 480
for_window [class="powder64"] floating disable

# set border for all windows i3
for_window [class=".*"] border pixel 3
# hide_edge_borders smart

##########
# Assign #
##########

assign [class="^Org.gnome.Nautilus$"] → $ws2
assign [class="^Nemo$"]               → $ws2
assign [class="^Nautilus$"]           → $ws2
assign [class="^Thunar$"]             → $ws2
assign [class="^dolphin$"]            → $ws2
assign [class="^Nemo$"]               → $ws2
assign [class="^qutebrowser$"]        → $ws3
# assign [class="^okular$"]             → $ws4
assign [class="^kile$"]               → $ws4
# assign [class="^Zotero$"]             → $ws5
assign [class="^VirtualBox Manager$"] → $ws6
assign [class="^VirtualBox Machine$"] → $ws6
assign [class="^libreoffice.*$"]      → $ws7
assign [class="^(?i)libreoffice-*"]   → $ws7
assign [class="libreoffice-startcenter|Soffice"] → $ws7
assign [class="^Emacs$"]              → $ws8
assign [class="^Inkscape$"]           → $ws9
assign [class="^Gimp.*$"]               → $ws9
assign [class="^photoflare$"]         → $ws9
assign [class="^Thunderbird$"]        → $ws10

##########
# Colors #
##########
# class                 border  backgr. text    indicator child_border
client.focused          #4c7899 #285577 #ffffff #ff4500   #00ff00
client.focused_inactive #333333 #5f676a #ffffff #484e50   #2e8b57
client.unfocused        #333333 #222222 #888888 #292d2e   #222222
client.urgent           #2f343a #900000 #ffffff #900000   #900000
client.placeholder      #000000 #0c0c0c #ffffff #000000   #0c0c0c

client.background       #ffffff

############
# Start up #
############

# exec --no-startup-id exec "$terminal" --name scratchpad
# exec --no-startup-id exec "emacs"
# exec --no-startup-id i3-msg 'workspace $ws1; exec $terminal exec $terminal'
# exec --no-startup-id i3-msg 'workspace $ws2; exec $file_manager'
# exec --no-startup-id i3-msg 'workspace $ws3; exec firefox'

exec --no-startup-id "$HOME/MyScripts/autostart.sh > ~/.output/autostart.sh"
exec --no-startup-id "feh ~/.config/i3/ressources/melina_wallpaper.jpg"
